FROM python:3.12-slim

# Keep image light: rely on Python wheels; no browsers bundled
RUN python -m pip install --upgrade pip && \
    pip install --no-cache-dir \
      selenium webdriver-manager \
      dowhy \
      mesa \
      numpy pandas scipy scikit-learn statsmodels networkx tqdm

# Non-root user
RUN useradd -ms /bin/bash runner
USER runner
WORKDIR /workspace

CMD ["python", "-c", "print('arche-executor ready')"]
